#!/usr/bin/env python3

import yaml

versions = yaml.load(open('/environment.yml'))['dependencies']
versions = [ver.strip().split('::')[1].split('=') for ver in versions]
versions = {k:f'<span style="color:#999999;\">v{v}</span>' for k,v in versions}

print ('''
id: 'software_versions'
section_name: 'MethFlow Software Versions'
section_href: 'https://github.com/rlebron-bioinfo/methflow'
plot_type: 'html'
description: 'are collected from environment.yml'
data: |
    <dl class="dl-horizontal">
''')

for k,v in versions.items():
    print("        <dt>{}</dt><dd>{}</dd>".format(k,v))

print ("    </dl>")
